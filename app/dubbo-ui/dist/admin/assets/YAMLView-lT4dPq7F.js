import{y as D,_ as R}from"./js-yaml-8Gkz3BRW.js";import{g as $}from"./traffic-C2a-KjHH.js";import{d as b,a as A,z as _,W as B,G as m,w as a,e as f,o as c,b as t,f as y,t as I,n as k,a9 as L,aa as S,j as g,c as M,K as O,J as Y,Q as j,p as q,h as z,_ as E}from"./index-hmLAZQYT.js";import"./request-8jI_GZey.js";const w=i=>(q("data-v-76e6a408"),i=i(),z(),i),F={class:"editorBox"},G=w(()=>g("p",null,"修改时间: 2024/3/20 15:20:31",-1)),J=w(()=>g("p",null,"版本号: xo842xqpx834",-1)),K=b({__name:"YAMLView",setup(i){const h=A(),N=_(!0),l=_(!1),V=_(8),v=_("");async function C(){var o,n;let e=await $((o=h.params)==null?void 0:o.ruleName);console.log(e),(e==null?void 0:e.code)===200&&e.data&&((n=h.params)!=null&&n.ruleName)&&e.data.scope==="service"&&(Array.isArray(e.data.conditions)&&(e.data.conditions=e.data.conditions.map(d=>{const s=d.split("=>");if(s.length===2){const r=s[0].trim();let x=s[1].trim();const u=x.match(/other\[(.*?)\]=(.*)/);return u&&u[1]&&u[2]&&(x=`${u[1]}=${u[2]}`),`${r} => ${x}`}return d})),v.value=D.dump(e.data))}return B(()=>{C()}),(e,o)=>{const n=f("a-button"),p=f("a-flex"),d=f("a-col"),s=f("a-card");return c(),m(s,null,{default:a(()=>[t(p,{style:{width:"100%"}},{default:a(()=>[t(d,{span:l.value?24-V.value:24,class:"left"},{default:a(()=>[t(p,{vertical:"",align:"end"},{default:a(()=>[t(n,{type:"text",style:{color:"#0a90d5"},onClick:o[0]||(o[0]=r=>l.value=!l.value)},{default:a(()=>[y(I(e.$t("flowControlDomain.versionRecords"))+" ",1),l.value?(c(),m(k(S),{key:1})):(c(),m(k(L),{key:0}))]),_:1}),g("div",F,[t(R,{modelValue:v.value,"onUpdate:modelValue":o[1]||(o[1]=r=>v.value=r),theme:"vs-dark",height:500,language:"yaml",readonly:N.value},null,8,["modelValue","readonly"])])]),_:1})]),_:1},8,["span"]),y(" Ï "),t(d,{span:l.value?V.value:0,class:"right"},{default:a(()=>[l.value?(c(),m(s,{key:0,class:"sliderBox"},{default:a(()=>[(c(),M(Y,null,O(2,r=>t(s,{key:r},{default:a(()=>[G,J,t(p,{justify:"flex-end"},{default:a(()=>[t(n,{type:"text",style:{color:"#0a90d5"}},{default:a(()=>[y("查看")]),_:1}),t(n,{type:"text",style:{color:"#0a90d5"}},{default:a(()=>[y("回滚")]),_:1})]),_:1})]),_:2},1024)),64))]),_:1})):j("",!0)]),_:1},8,["span"])]),_:1})]),_:1})}}}),W=E(K,[["__scopeId","data-v-76e6a408"]]);export{W as default};
