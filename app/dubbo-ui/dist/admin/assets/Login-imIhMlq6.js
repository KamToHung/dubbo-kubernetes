import{l as w}from"./login-9T-XtNdg.js";import{d as v,r as b,u as h,a as y,c as D,b as e,w as o,e as s,o as S,f as k,t as C,g as I,m as q,i as B,p as N,h as V,j as $,_ as x}from"./index-hmLAZQYT.js";import"./request-8jI_GZey.js";const F=r=>(N("data-v-286ee7a5"),r=r(),V(),r),L={class:"background"},R=F(()=>$("div",null,"用户登录",-1)),U=v({__name:"Login",setup(r){const a=b({username:"",password:""}),d=h(),m=y().query.redirect||"/";function c(){let t=new FormData;t.append("user",a.username),t.append("password",a.password),w(t).then(()=>{I(!0,a.username),d.replace(m)}).catch(n=>{q.error(B.global.t("loginDomain.authFail"))})}return(t,n)=>{const i=s("a-row"),p=s("a-input"),l=s("a-form-item"),_=s("a-button"),f=s("a-form"),g=s("a-card");return S(),D("div",L,[e(g,{class:"login"},{default:o(()=>[e(i,{class:"title"},{default:o(()=>[R]),_:1}),e(i,null,{default:o(()=>[e(f,{layout:"vertical",model:a,ref:"login-form-ref"},{default:o(()=>[e(l,{class:"item",label:t.$t("loginDomain.username"),name:"username",rules:[{required:!0}]},{default:o(()=>[e(p,{type:"",value:a.username,"onUpdate:value":n[0]||(n[0]=u=>a.username=u)},null,8,["value"])]),_:1},8,["label"]),e(l,{class:"item",label:t.$t("loginDomain.password"),name:"password",rules:[{required:!0}]},{default:o(()=>[e(p,{type:"password",value:a.password,"onUpdate:value":n[1]||(n[1]=u=>a.password=u)},null,8,["value"])]),_:1},8,["label"]),e(l,{class:"item",label:""},{default:o(()=>[e(_,{onClick:c,size:"large",type:"primary",class:"login-btn"},{default:o(()=>[k(C(t.$t("loginDomain.login")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})])}}}),H=x(U,[["__scopeId","data-v-286ee7a5"]]);export{H as default};
