import{d as T,v as g,x as S,y as C,W as N,a as $,r as D,c as l,b as t,w as n,n as o,P as E,R as V,e as b,o as c,X as p,f as r,j as A,I as B,t as y,Q as f,J as k,_ as O}from"./index-hmLAZQYT.js";import{b as P,c as Y}from"./traffic-C2a-KjHH.js";import{S as F,a as J,s as h}from"./SearchUtil-sOWd6ofa.js";import{f as M}from"./DateUtil-BI1mUH_z.js";import"./request-8jI_GZey.js";const j={class:"tag-rule-container"},G=["onClick"],K=T({__name:"index",setup(X){g(e=>({c2298156:o(E)}));const x=S(C.PROVIDE_INJECT_KEY);N(()=>{x.tagRule=null}),$();let I=[{title:"ruleName",key:"ruleName",dataIndex:"ruleName",sorter:(e,a)=>h(e.appName,a.appName),width:140},{title:"createTime",key:"createTime",dataIndex:"createTime",width:120,sorter:(e,a)=>h(e.instanceNum,a.instanceNum)},{title:"enable",key:"enabled",dataIndex:"enabled",width:120,sorter:(e,a)=>h(e.instanceNum,a.instanceNum)},{title:"operation",key:"operation",dataIndex:"operation",width:200}];const s=D(new F([{label:"serviceGovernance",param:"serviceGovernance",placeholder:"typeRoutingRules",style:{width:"200px"}}],P,I)),v=async e=>{(await Y(e)).code===200&&await s.onSearch()};N(()=>{s.onSearch(),s.tableStyle={scrollX:"100",scrollY:"367px"}});const R=e=>{v(e)};return V(C.SEARCH_DOMAIN,s),(e,a)=>{const d=b("a-button"),w=b("a-popconfirm");return c(),l("div",j,[t(J,{"search-domain":s},{customOperation:n(()=>[t(d,{type:"primary",onClick:a[0]||(a[0]=m=>o(p).push("/traffic/addTagRule/addByFormView"))},{default:n(()=>[r(" 新增标签路由规则 ")]),_:1})]),bodyCell:n(({text:m,column:i,record:u})=>[i.dataIndex==="ruleName"?(c(),l("span",{key:0,class:"rule-link",onClick:_=>o(p).push(`/traffic/tagRule/formview/${u[i.key]}`)},[A("b",null,[t(o(B),{style:{"margin-bottom":"-2px"},icon:"material-symbols:attach-file-rounded"}),r(" "+y(m),1)])],8,G)):f("",!0),i.dataIndex==="createTime"?(c(),l(k,{key:1},[r(y(o(M)(m)),1)],64)):f("",!0),i.dataIndex==="enabled"?(c(),l(k,{key:2},[r(y(m?e.$t("flowControlDomain.enabled"):e.$t("flowControlDomain.disabled")),1)],64)):f("",!0),i.dataIndex==="operation"?(c(),l(k,{key:3},[t(d,{type:"link",onClick:_=>o(p).push(`formview/${u.ruleName}`)},{default:n(()=>[r(" 查看 ")]),_:2},1032,["onClick"]),t(d,{onClick:_=>o(p).push(`/traffic/updateTagRule/updateByFormView/${u.ruleName}`),type:"link"},{default:n(()=>[r(" 修改 ")]),_:2},1032,["onClick"]),t(w,{title:"确认删除该标签路由规则？","ok-text":"Yes","cancel-text":"No",onConfirm:_=>R(u.ruleName)},{default:n(()=>[t(d,{type:"link"},{default:n(()=>[r(" 删除 ")]),_:1})]),_:2},1032,["onConfirm"])],64)):f("",!0)]),_:1},8,["search-domain"])])}}}),z=O(K,[["__scopeId","data-v-8b7bd8e7"]]);export{z as default};
